databaseChangeLog:
  - changeSet:
      id: 1
      author: postgres
      changes:
        - createTable:
            tableName: study
            columns:
              - column:
                  name: Id
                  type: UUID
                  constraints:
                    primaryKey: true
                    nullable: false
              #                  constraints:
              #                    primaryKey: true
              - column:
                  name: ExternalId
                  type: UUID
              - column:
                  name: Name
                  type: VARCHAR(250)
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Description
                  type: TEXT
              - column:
                  name: PreviewFrame
                  type: VARCHAR(250)

  - changeSet:
      id: 2
      author: postgres
      changes:
        - createTable:
            tableName: series
            columns:
              - column:
                  name: Id
                  type: UUID
                  constraints:
                    primaryKey: true
              - column:
                  name: StudyId
                  type: UUID
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Number
                  type: INT
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Name
                  type: VARCHAR(250)
              - column:
                  name: PreviewFrame
                  type: VARCHAR(250)
              - column:
                  name: InstanceCount
                  type: INT
              - column:
                  name: SagitalFrame
                  type: VARCHAR(250)
              - column:
                  name: CoronalFrame
                  type: VARCHAR(250)
  #            foreignKeyConstraints:
  #              - baseTableName: Series
  #                baseColumnNames: [StudyId]
  #                referencedTableName: Study
  #                referencedColumnNames: [Id]

  - changeSet:
      id: 3
      author: postgres
      changes:
        - createTable:
            tableName: anatomical_structure_subject
            columns:
              - column:
                  name: Name
                  type: VARCHAR(250)
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Color
                  type: VARCHAR(6)
  #                  constraints:
  #                    notNull: true

  - changeSet:
      id: 4
      author: postgres
      changes:
        - createTable:
            tableName: anatomical_structure
            columns:
              - column:
                  name: SubjectId
                  type: UUID
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Name
                  type: VARCHAR(250)
  #                  constraints:
  #                    notNull: true
  #            foreignKeyConstraints:
  #              - baseTableName: AnatomicalStructure
  #                baseColumnNames: [SubjectId]
  #                referencedTableName: AnatomicalStructureSubject
  #                referencedColumnNames: [Id]

  - changeSet:
      id: 5
      author: postgres
      changes:
        - createTable:
            tableName: instance_data
            columns:
              - column:
                  name: Id
                  type: UUID
                  constraints:
                    primaryKey: true
              - column:
                  name: StudyId
                  type: UUID
              #                    constraints:
              #                    notNull: true
              - column:
                  name: SeriesId
                  type: UUID
              #                  constraints:
              #                    notNull: true
              - column:
                  name: StructureId
                  type: UUID
              #                  constraints:
              #                    notNull: true
              - column:
                  name: InstanceNumber
                  type: INT
              #                  constraints:
              #                    notNull: true
              - column:
                  name: Type
                  type: VARCHAR(10) # Изменили на VARCHAR
              #                  constraints:
              #                    notNull: true
              - column:
                  name: X
                  type: INT
              - column:
                  name: Y
                  type: INT
              - column:
                  name: Path
                  type: TEXT
#            foreignKeyConstraints:
#              - baseTableName: InstanceData
#                baseColumnNames: [ StudyId ]
#                referencedTableName: Study
#                referencedColumnNames: [ Id ]
#              - baseTableName: InstanceData
#                baseColumnNames: [ SeriesId ]
#                referencedTableName: Series
#                referencedColumnNames: [ Id ]
#              - baseTableName: InstanceData
#                baseColumnNames: [ StructureId ]
#                referencedTableName: AnatomicalStructure
#                referencedColumnNames: [ Id ]